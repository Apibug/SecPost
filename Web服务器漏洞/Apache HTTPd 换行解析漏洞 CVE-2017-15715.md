# Apache HTTPd 换行解析漏洞 CVE-2017-15715

## 漏洞描述

Apache HTTPD是一款HTTP服务器，它可以通过mod_php来运行PHP网页。其2.4.0~2.4.29版本中存在一个解析漏洞，在解析PHP时，`1.php\x0A`将被按照PHP后缀进行解析，导致绕过一些服务器的安全策略。

## 漏洞影响

```
Apache HTTPd  2.4.0~2.4.29版本
```

## 环境搭建

```plain
https://github.com/vulhub/vulhub.git
cd vulhub/httpd/CVE-2017-15715
docker-compose up -d
```

访问 http://xxx.xxx.xxx.xxx:8080 正常即可

## 漏洞复现

直接上传恶意文件会被拦截

![1](./images/202202090039601.png)

抓包修改如下参数

![2](./images/202202090039868.png)

![3](./images/202202090039120.png)

响应为200，成功绕过

访问 [http://xxx.xxx.xxx.xxx:8080/evil.php ](http://xxx.xxx.xxx.xxx:8080/evil.php ) 成功触发解析漏洞

![4](./images/202202090039233.png)